
1. find the diff b/t previous close and current high
NOTE
--- this diff can serve as a markup for short selling IONQ
++++ add the diff to the close price and short sell when price hit that point then wait for price to fall below the the current day's Open

2. calculate probability that Highest occurs befor the Lowest

3. Add stock profile that shows when min, max occur and various probabilities estimate
4. Probability that if current open is higher than previous close than 
   current low will be higher than prevous close



NOTE.
DJT, DNA stock
first plung happens close to 10:00, second plung happens later in the day. If trading for second plung, make sure I short sell at a price at or above the highest before that time.


DNA -- 62.5% -- excellent for BRPL with 100% record of profits at 1%

ACMR -- 62.5%

NXT -- 50% -- excellent for BRPL with 100% record of profits at 1%
UAL -- 50% 
FPH -- 37.5%
PACK -- 50%  -- have shwon consistencyin price plunging by 10 and another plung by 16
GTLB -- 50%
RDW -- 62.5%  -- Highest is usually reached at 9:30 something to 10:00 and the lowest point reached at around 12:00

RDWR -- 75%
DEC -- 75%  # DONOT TRADE ON CDF
KIE -- 37.5%   -DONOT TRADE
OLN -- 62.5% --
RCI -- 62.5%  -- Medium volatility
WBA -- 62.5% -- Highest using occur at 9:30 something onwards and lowest around 10:00 to something. In general short selling happens at the early stage of the day

PFSI -- 37.5%
APPF -- 50%  --Plungs around 10:00 usually but not always
ENVX -- 62.5% - -- excellent for BRPL with 100% record of profits at 1%

NKLA -- 62.5% 
CRNC -- 75%   --  excellent for BRPL with 100% record of profits at 1%
STEM  -- 62.5%  -- Usually peaks at 10 something  and haves first plung at around 12 or later

SSTK -- 87.5%  -- pick profits early usually by 12 as there are usually price reversal at the tail end.


SES -- 50% -- excellent for BRPL with 100% record of profits at 1%
for shrot selling, it an early go with highest usually found 9:30 something to 10:30 something and lowest by 12

DECK -- 62.5%
PONY -- 42.85%
JILL -- 37.5%
PKST  -- 75%  -- excellent for BRPL with 100% record of profits at 1. For short selling, Highest usually occur at the early stagearound 9:30 something to 12

OKLO -- 37.5%

QS -- 75%  ---- Determining target price for entry and exit proves difficult


NNE -- 75% -- excellent for BRPL with 100% record of profits at 1
NNN -- 75%


PSNY -- 87.5%  -- excellent for BRPL with 100% record of profits at 1
PSEC -- 75%
selected = ["CRNC", "QS", "QTUM", "WBA","CHRD","RDW", "PKST", "SSTK", "PSNY", "PSEC"] 

selected_bury_regular_at_premarket_low = ["NNE"]

# Remove London Exchanges due to very short market duration time -DEC
# Also check spreads before trading and avoid penny stocks with high spread
# eg STEM




# NOTE:
# For bear market scenario, I realized, from 21:10 to the closing bell, price started
gaining gradual momentum which could be the result of short squeeze. I suspect
short sellers are trying to close positions on Friday before the weekend hence 
increase demand in such short duration increating prices.

Try to take advantage of this taking note of CFD spreads



# IONQ should time based pattern on 1 minute chart
# At about 15:00 to 15:30, there is a consistent upward trend for scalping and this needs to be quick 
in and out for about 5 to 10 minutes.

Start monitoring price for any present downward trend, when it vÂ´finally halts and reverses, buy and 
ride the upward trend to exit quickly. It is noted on bear market




#%% TODO: 
# Verify the results of cal_proba_regular_lowest_in_after_hours
# check that they can be successfully executed in real time
# by ensuring price rise in the after_hours or premarket of the following
# day after hitting the low from regular hours



#%% TODO
' Explore idea of creating stable pies / index for day trading'

# %%
"""
Analysis for trading

1. Determine drawn for buy entry limit order and 1% profit sell limit order
>>>> Requires statistical analysis --- Tools ready for use


2. Pattern recognition
Buy at close and sell at profit the next day -- tools ready for use


3. Outside Regular hours
Buy below regular hours Low price / Close in After hours / Premarket 
and sell for profit next day -- Tools not ready


"""


# TODO:
# Add option to include extended perods to the after market and premarket buy algorithms

# explore statistical analysis to decide whether to execute an 
# setup. Eg if the lowest price in premarket below the average by 
# a certain amount or use the std


# TODO: Add strategy results to app
# Add a screener that access a strategy for several stocks 
# return the best performers -- consider predefine the stocks



# TODO: Portfolio update
# get all portfolio ticker, download data, create graph and show % change for each
# when percentage change is greater than 10% then send an email notification

# what happens when a company beats its guidance 

# TODO: performance calculator similar to that on SAP wensite
# https://www.sap.com/investors/en/stock.html



### Use statistics in the previous regular session and

# current premarket session to determine trade


# 
# Include chart similarity search